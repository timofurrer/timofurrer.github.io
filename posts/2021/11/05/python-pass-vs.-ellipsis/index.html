<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Python Pass vs. Ellipsis | Timo's Blog</title><meta name=description content="I&rsquo;ve recently had a nerdy discussion with a colleague during a code review about when to use Pythons pass statement1 vs. the ellipsis literal ...2
You&rsquo;ve probably seen the pass statement in Python code as a means to indicate that a block is intentionally left empty to avoid a SyntaxError. Like in the following except block where we expect that an exception might be raised but just want to ignore it:"><link rel="shortcut icon" href=/favicon.ico><link rel=stylesheet href=/css/theme.css><meta name=theme-color content="#FFFFFF"></head><body><div id=content><section id=main><h1 id=title>Python Pass vs. Ellipsis</h1><div class=post-details><span>üìÜ</span>
<time datetime="2021-11-05 09:00:12 +0100 +0100">Friday, November 5, 2021</time>
<span>‚è±Ô∏è</span> 3 min read
<span>üìö</span> published in <a href=/categories/python>python</a>
and <a href=/categories/software-engineering>software engineering</a></div><div><article id=content><p>I&rsquo;ve recently had a nerdy discussion with a colleague during a code review
about when to use
Pythons <code>pass</code> statement<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> vs. the ellipsis literal <code>...</code><sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p><p>You&rsquo;ve probably seen the <code>pass</code> statement in Python code as a
means to indicate that a block is intentionally left empty
to avoid a <code>SyntaxError</code>.
Like in the following <code>except</code> block where we expect that
an exception might be raised but just want to ignore it:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000;font-weight:700>try</span>:
</span></span><span style=display:flex><span>    client<span style=color:#000;font-weight:700>.</span>get(<span style=color:#0086b3>id</span><span style=color:#000;font-weight:700>=</span><span style=color:#099>42</span>)
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>except</span> ApiException:
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>pass</span>
</span></span></code></pre></td></tr></table></div></div><p>Somehow the ellipsis literal <code>...</code> has gotten some hype lately and
some people started doing this:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000;font-weight:700>try</span>:
</span></span><span style=display:flex><span>    client<span style=color:#000;font-weight:700>.</span>get(<span style=color:#0086b3>id</span><span style=color:#000;font-weight:700>=</span><span style=color:#099>42</span>)
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>except</span> ApiException:
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>...</span>
</span></span></code></pre></td></tr></table></div></div><p>While this is syntactically valid Python code the semantics are
weird to me.</p><p>To me, the <code>pass</code> statement effectively communicates that
we should just <em>pass</em> this block without running any code at all.
While the <code>...</code> are more like
<em>‚Äúthere is something to be expected here in the future‚Äù</em>.
Therefore, the <code>...</code> can be thought of a placeholder.</p><p>Whenever I see the <code>...</code> my head auto-plays a <a href=https://youtu.be/Bnmp_oAHRC0><em>Dun Dun Dun</em> sound effect</a> -
to emphasize the suspension of code üôä.
It would be a pity if it&rsquo;s a suspension of code until all eternity if you use at as a <code>pass</code> replacement.</p><h3 id=where-should-i-use-the-->Where should I use the <code>...</code> ?</h3><p>As I&rsquo;ve already mentioned you should use the <code>...</code> as a placeholder where eventually
some could should appear, but you don&rsquo;t necessarily want to <code>raise NotImplementedError</code>.</p><p>A similar situation where I use it is with Pythons <a href=https://docs.python.org/3/library/abc.html>Abstract Base Classes</a>
to indicate that the function body needs to be implemented by a subclass.</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000;font-weight:700>from</span> <span style=color:#555>abc</span> <span style=color:#000;font-weight:700>import</span> abstractmethod
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>class</span> <span style=color:#458;font-weight:700>AbstractEventLoop</span>:
</span></span><span style=display:flex><span>    <span style=color:#3c5d5d;font-weight:700>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>def</span> <span style=color:#900;font-weight:700>run</span>(<span style=color:#999>self</span>, <span style=color:#000;font-weight:700>...</span>):
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>...</span>
</span></span></code></pre></td></tr></table></div></div><p>The next place where I use it is in Python <a href=https://www.python.org/dev/peps/pep-0484/#stub-files>stub files</a>
to indicate an <em>ignored</em> function body:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000;font-weight:700>def</span> <span style=color:#900;font-weight:700>get</span>(<span style=color:#0086b3>id</span>: <span style=color:#0086b3>int</span>) <span style=color:#000;font-weight:700>-&gt;</span> Model: <span style=color:#000;font-weight:700>...</span>
</span></span></code></pre></td></tr></table></div></div><p>The fourth place is in extended slicing with custom container types, for what the <code>...</code> was originally introduced for.
For example, the <a href=https://numpy.org/doc/stable/reference/arrays.indexing.html>numpy</a> array indexing supports it:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000;font-weight:700>from</span> <span style=color:#555>numpy</span> <span style=color:#000;font-weight:700>import</span> arange
</span></span><span style=display:flex><span>a <span style=color:#000;font-weight:700>=</span> arange(<span style=color:#099>16</span>)<span style=color:#000;font-weight:700>.</span>reshape(<span style=color:#099>2</span>, <span style=color:#099>2</span>, <span style=color:#099>2</span>, <span style=color:#099>2</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>flat_a <span style=color:#000;font-weight:700>=</span> a[<span style=color:#000;font-weight:700>...</span>, <span style=color:#099>0</span>]<span style=color:#000;font-weight:700>.</span>flatten()
</span></span></code></pre></td></tr></table></div></div><h3 id=but-what-is-the--literal->But what is the <code>...</code> literal ?</h3><p>The ellipsis literal <code>...</code> is syntactic sugar for the <code>Ellipsis</code> object,
which is the sole instance of the <code>types.EllipsisType</code> type.
You can use it like every other object in Python, except that you can&rsquo;t
create a new one. Thus, when you override it (yes, that&rsquo;s possible: <code>__builtins__.Ellipsis = 42</code>)
you can&rsquo;t really get it back ü§∑ - thus, don&rsquo;t do it.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://docs.python.org/3/tutorial/controlflow.html#pass-statements>pass statement Python docs</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://docs.python.org/3/library/constants.html#Ellipsis>Ellipsis Python docs</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></article></div></section><aside id=meta></aside></div><footer><hr>¬© Timo Furrer | GPG: <a href=https://keybase.io/tuxtimo>3F3C EA38 A36C A8E9</a> | <a href=/>Home</a> | <a href=/posts>Posts</a> | <a href=/categories>Categories</a> | <a href=/posts/index.xml>RSS</a> | <a href=https://www.istockphoto.com/de/fotos/penguin>Penguin Photos</a></footer></body></html>